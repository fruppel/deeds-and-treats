import{B as C,r as F,c as b,A as V,k as f,o as u,e as t,t as i,f as l,w as v,g,a as A,F as N,s as E,i as p,C as x}from"./app-fm232Leb.js";import{u as B}from"./deeds-B22SkmIc.js";import{g as I,f as L}from"./formatting-service-CQyrWaM7.js";import{A as P}from"./AppPageContent-Cgu7BwA4.js";import{F as w}from"./FormLabel-B22naSZF.js";import{_ as k,a as h}from"./FormError-mP4jGLzB.js";import{_ as U}from"./FloatingActionButton-w2P_xo-Y.js";import"./vue-tabler-icons.es-B6aNxJ30.js";const j={class:"px-4 py-4"},G={class:"uppercase font-semibold text-gray-900"},M={class:"mt-4"},R={class:"mt-4"},D={__name:"DeedsForm",props:{id:{type:Number}},setup(_){const o=_,e=B(),c=C(),a=F({id:o.id,name:null,value:null}),n=b(()=>e.errors),y=b(()=>d()?"Deed bearbeiten":"Deed erstellen"),r=()=>c.close(),d=()=>o.id!==void 0&&o.id!==null,S=async()=>{d()===!0?await e.update(a.value):await e.store(a.value),await e.fetchAll(),r()},$=async()=>{await e.fetchById(o.id),a.value.id=e.deed.id,a.value.name=e.deed.name,a.value.value=e.deed.value};return V(async()=>{d()===!0&&await $()}),(H,s)=>(u(),f("div",j,[t("h2",G,i(y.value),1),t("div",M,[l(w,null,{default:v(()=>s[2]||(s[2]=[g("Name")])),_:1}),l(k,{modelValue:a.value.name,"onUpdate:modelValue":s[0]||(s[0]=m=>a.value.name=m)},null,8,["modelValue"]),l(h,{error:n.value.name},null,8,["error"])]),t("div",R,[l(w,null,{default:v(()=>s[3]||(s[3]=[g("Belohnung")])),_:1}),l(k,{modelValue:a.value.value,"onUpdate:modelValue":s[1]||(s[1]=m=>a.value.value=m)},null,8,["modelValue"]),l(h,{error:n.value.value},null,8,["error"])]),t("div",{class:"mt-6 flex"},[t("button",{onClick:r,type:"button",class:"w-1/2 mr-1 border border-gray-300 rounded-md bg-gray-400 text-gray-800 text-sm uppercase font-semibold"}," Abbrechen "),t("button",{onClick:S,type:"button",class:"w-1/2 bg-teal-500 text-white py-2 px-2 rounded-md text-sm uppercase font-semibold"}," Speichern ")])]))}},T={class:"space-y-2 divide-y bg-white dark:bg-gray-700 border dark:border-gray-900 dark:divide-gray-900 shadow rounded-md"},q=["onClick"],z={class:"dark:text-gray-400 text-xs"},ee={__name:"PageDeeds",setup(_){const o=C(),e=B(),c=async n=>{o.open(x(D),{id:n})},a=()=>o.open(x(D));return V(async()=>{await e.fetchAll()}),(n,y)=>(u(),A(P,{class:"px-4"},{default:v(()=>[t("div",T,[(u(!0),f(N,null,E(p(e).deeds,r=>(u(),f("div",{onClick:d=>c(r.id),class:"py-2 px-2 flex justify-between dark:text-gray-200"},[t("div",null,[t("div",z,i(p(I)(r.created_at)),1),t("div",null,i(r.name),1)]),t("div",null,i(p(L)(r.value)),1)],8,q))),256))]),l(U,{onClick:a})]),_:1}))}};export{ee as default};
