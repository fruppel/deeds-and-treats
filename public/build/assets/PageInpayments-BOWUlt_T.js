import{B as f,r as A,c as b,A as B,k as v,o as l,e,t as c,f as r,w as y,g,i as _,C as S,a as h,F as E,s as N}from"./app-fm232Leb.js";import{u as V}from"./inpayments-DIPociuH.js";import{A as z}from"./AppPageContent-Cgu7BwA4.js";import{F as w}from"./FormLabel-B22naSZF.js";import{_ as k,a as $}from"./FormError-mP4jGLzB.js";import{_ as D}from"./FloatingActionButton-w2P_xo-Y.js";import{g as j,f as L}from"./formatting-service-CQyrWaM7.js";import"./vue-tabler-icons.es-B6aNxJ30.js";const P={class:"px-4 py-4"},R={class:"uppercase font-semibold text-gray-900"},U={class:"mt-4"},q={class:"mt-4"},C={__name:"InpaymentsForm",props:{id:{type:Number}},setup(o){const n=o,t=V(),i=f(),a=A({id:n.id,name:null,value:null}),d=b(()=>t.errors),u=b(()=>m()?"Einzahlung bearbeiten":"Einzahlung hinzufÃ¼gen"),x=()=>i.close(),m=()=>n.id!==void 0&&n.id!==null,I=async()=>{m()===!0?await t.update(a.value):await t.store(a.value),await t.fetchAll(),x()},F=async()=>{await t.fetchById(n.id),a.value.id=t.inpayment.id,a.value.description=t.inpayment.description,a.value.amount=t.inpayment.amount};return B(async()=>{m()===!0&&await F()}),(W,s)=>(l(),v("div",P,[e("h2",R,c(u.value),1),e("div",U,[r(w,null,{default:y(()=>s[2]||(s[2]=[g("Beschreibung")])),_:1}),r(k,{modelValue:a.value.description,"onUpdate:modelValue":s[0]||(s[0]=p=>a.value.description=p)},null,8,["modelValue"]),r($,{error:d.value.description},null,8,["error"])]),e("div",q,[r(w,null,{default:y(()=>s[3]||(s[3]=[g("Betrag")])),_:1}),r(k,{modelValue:a.value.amount,"onUpdate:modelValue":s[1]||(s[1]=p=>a.value.amount=p)},null,8,["modelValue"]),r($,{error:d.value.amount},null,8,["error"])]),e("div",{class:"mt-6 flex"},[e("button",{onClick:x,type:"button",class:"w-1/2 mr-1 border border-gray-300 rounded-md bg-gray-400 text-gray-800 text-sm uppercase font-semibold"}," Abbrechen "),e("button",{onClick:I,type:"button",class:"w-1/2 bg-teal-500 text-white py-2 px-2 rounded-md text-sm uppercase font-semibold"}," Speichern ")])]))}},G={class:"flex"},M={class:"flex-1"},O={class:"text-xs text-gray-400 dark:text-gray-400"},T={class:"px-2"},H={class:"flex justify-between dark:text-gray-100"},J={class:"text-left flex-1 px-2"},K={__name:"InpaymentsRow",props:{inpayment:{type:Object,required:!0}},setup(o){const n=o,t=f(),i=async()=>{t.open(S(C),{id:n.inpayment.id})};return(a,d)=>(l(),v("div",{onClick:i,class:"pt-2 pr-2 last:pb-2"},[e("div",G,[e("div",M,[e("div",O,[e("div",T,c(_(j)(o.inpayment.created_at)),1)]),e("div",H,[e("div",J,c(o.inpayment.description),1),e("div",null,c(_(L)(o.inpayment.amount)),1)])])])]))}},Q={class:"space-y-2 divide-y bg-white dark:bg-gray-700 border dark:border-gray-900 dark:divide-gray-900 shadow rounded-md"},oe={__name:"PageInpayments",setup(o){const n=f(),t=V(),i=()=>n.open(S(C));return B(async()=>{await t.fetchAll()}),(a,d)=>(l(),h(z,{class:"px-4"},{default:y(()=>[e("div",Q,[(l(!0),v(E,null,N(_(t).inpayments,u=>(l(),h(K,{inpayment:u},null,8,["inpayment"]))),256))]),r(D,{onClick:i})]),_:1}))}};export{oe as default};
